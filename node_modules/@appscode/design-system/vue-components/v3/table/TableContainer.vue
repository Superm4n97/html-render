<script setup lang="ts">
import { nextTick, onMounted, ref } from "vue";

const tableContainer = ref<HTMLElement | null>(null);

const emit = defineEmits(["scroller"]);

const isScrollerShowing = () => {
  if (tableContainer.value?.scrollWidth) return tableContainer.value?.scrollWidth > tableContainer.value?.clientWidth;
  return false;
};

onMounted(() => {
  setTimeout(() => {
    nextTick(() => {
      emit("scroller", isScrollerShowing());
    });
  }, 50);
});
</script>

<template>
  <div class="ac-table-container table-container" ref="tableContainer">
    <slot />
  </div>
</template>
