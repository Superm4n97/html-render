<script setup lang="ts">
import { defineAsyncComponent } from "vue";
const AcButton = defineAsyncComponent(() => import("../button/Button.vue"));
const HeroiconsArrowSmallRight = defineAsyncComponent(() => import("~icons/heroicons/arrow-small-right"));
const HeroiconsPlus = defineAsyncComponent(() => import("~icons/heroicons/plus"));

interface Props {
  title?: string;
  type?: string;
  modifierClasses?: string;
  roundedThumbnail?: boolean;
  thumbnail?: string;
  cardLabel?: string;
  noDataAvailable?: boolean;
  hideCreateButton?: boolean;
}

withDefaults(defineProps<Props>(), {
  title: "no-title",
  type: "organization",
  modifierClasses: "",
  roundedThumbnail: true,
  thumbnail: "https://via.placeholder.com/100/dddddd/808080",
  cardLabel: "",
  noDataAvailable: false,
  hideCreateButton: false,
});
</script>
<template>
  <div
    class="card-details has-hover-style"
    :class="[modifierClasses, { 'no-data-available is-justify-content-center': noDataAvailable }]"
  >
    <div class="left-content" :class="{ 'is-align-items-center': noDataAvailable }">
      <figure class="image" :class="{ 'is-48x48': !noDataAvailable }">
        <img :class="{ 'is-rounded': !noDataAvailable }" :src="thumbnail" />
      </figure>
      <h5>{{ title }}</h5>

      <AcButton v-if="noDataAvailable && !hideCreateButton" :title="cardLabel" icon-class="unplugin">
        <template #icon><HeroiconsPlus /></template>
      </AcButton>

      <AcButton
        v-else
        :title="cardLabel"
        modifier-classes="is-text px-0 is-flex-direction-row-reverse gap-8"
        icon-class="unplugin"
      >
        <template #icon v-if="!hideCreateButton"><HeroiconsArrowSmallRight /></template>
      </AcButton>
    </div>
    <div class="right-content" v-if="!noDataAvailable">
      <figure class="image is-48x48">
        <img v-if="type === 'organization'" src="../../images/icons/org-icon.svg" />
        <img v-else src="../../images/icons/cluster-icon.svg" />
      </figure>
    </div>
  </div>
</template>
<style lang="scss" scoped>
@import "../../../vue-components/styles/components/cards/org";
</style>
