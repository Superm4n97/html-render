<script setup lang="ts">
defineEmits(["toggleSidebar"]);

interface Props {
  brandLogo?: string;
  brandLogoAlt?: string;
  url?: string;
  productName?: string;
  modifierClasses?: string;
  hideCollapseButton?: boolean;
}

withDefaults(defineProps<Props>(), {
  brandLogo: "https://via.placeholder.com/150x35/dddddd/808080",
  brandLogoAlt: "",
  url: "/",
  productName: "",
  modifierClasses: "",
  hideCollapseButton: false,
});
</script>
<template>
  <div class="sidebar-header">
    <!-- hamburger icon  -->
    <div
      v-if="!hideCollapseButton"
      class="icon hamburger-icon mr-8"
      data-testid="sidebar-menu-button"
      @click="$emit('toggleSidebar')"
    >
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 13.5L10.5 13.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M3 9L15 9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        <path d="M3 4.5L7.5 4.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </div>
    <!-- hamburger icon  -->

    <!-- brand logo  -->
    <router-link class="is-flex brand-logo" :to="url">
      <img :src="brandLogo" alt="brand-logo" :class="modifierClasses" />
    </router-link>
    <!-- brand logo  -->

    <!-- brand logo  -->
    <span v-if="productName" class="brand-tag">{{ productName }}</span>
    <!-- brand logo  -->
  </div>
</template>

<style lang="scss" scoped>
.sidebar-collapsed:not(.is-hoverable) .ac-left-sidebar-wrapper {
  .brand-logo {
    display: none !important;
  }

  .sidebar-header {
    justify-content: center;
    padding: 10px;

    .hamburger-icon {
      margin-right: 0 !important;
    }
  }
}

.sidebar-header {
  background-color: transparent;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  height: 50px;
  display: flex;
  // justify-content: space-between;
  padding: 8px 20px;
  align-items: center;

  .hamburger-icon {
    cursor: pointer;
    position: relative;
    z-index: 1;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;

    &::after {
      position: absolute;
      content: "";
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.1);
      opacity: 0;
      visibility: hidden;
      transition: 0.3s ease-in-out;
    }

    &:hover {
      &::after {
        opacity: 1;
        visibility: visible;
      }
    }
  }

  .brand-logo {
    display: flex;
    align-items: center;

    img {
      max-height: 30px;
    }
  }
}
</style>
