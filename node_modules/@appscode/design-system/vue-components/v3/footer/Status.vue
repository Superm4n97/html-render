<script lang="ts" setup>
import { defineAsyncComponent } from "vue";
const FooterItems = defineAsyncComponent(() => import("./FooterItems.vue"));
const FooterItem = defineAsyncComponent(() => import("./FooterItem.vue"));
const HeroiconsCheckBadge = defineAsyncComponent(() => import("~icons/heroicons/check-badge"));
const HeroiconsCrossBadge = defineAsyncComponent(() => import("~icons/heroicons/x-circle"));
const MdiMinusCircleOutline = defineAsyncComponent(() => import("~icons/mdi/minus-circle-outline"));

interface Props {
  statusInfo?: Array<Record<string, string>>;
}

withDefaults(defineProps<Props>(), {
  statusInfo: () => [],
});
</script>

<template>
  <footer-items>
    <footer-item v-for="(item, idx) in statusInfo" :key="idx + item.label" :modifier-classes="item.color">
      <span class="icon">
        <HeroiconsCheckBadge v-if="item.color === `has-text-success`" />
        <i v-else-if="item.color === `has-text-warning`" class="fa fa-refresh fa-spin fa-fw"></i>
        <HeroiconsCrossBadge v-else-if="item.color === 'has-text-danger'" />
        <MdiMinusCircleOutline v-else />
      </span>
      <span>{{ item.label }}</span>
    </footer-item>
  </footer-items>
</template>

<style lang="scss" scoped></style>
